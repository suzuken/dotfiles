<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>照合強度を設定する</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="collator.setattribute.html">Collator::setAttribute</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="collator.sortwithsortkeys.html">Collator::sortWithSortKeys</a></div>
 <div class="up"><a href="class.collator.html">Collator</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="collator.setstrength" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Collator::setStrength</h1>
  <h1 class="refname">collator_set_strength</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PECL intl &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">Collator::setStrength</span> -- <span class="refname">collator_set_strength</span> &mdash; <span class="dc-title">照合強度を設定する</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-collator.setstrength-description">
  <h3 class="title">説明</h3>
  <p class="para">
   オブジェクト指向型
  </p>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span>
    <span class="methodname"><b>Collator::setStrength</b></span>
    ( <span class="methodparam"><span class="type">int</span> <tt class="parameter">$strength</tt></span>
   )</div>

  <p class="para rdfs-comment">
   手続き型
  </p>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span>
    <span class="methodname"><b>collator_set_strength</b></span>
    ( <span class="methodparam"><span class="type"><a href="class.collator.html" class="type Collator">Collator</a></span> <tt class="parameter">$coll</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$strength</tt></span>
   )</div>

  <p class="para rdfs-comment">
   <a href="http://www.icu-project.org/" class="link external">&raquo; ICU</a>
   Collation Service は、多くの比較レベルをサポートしています
   (&quot;レベル&quot; という名前ですが、&quot;強度&quot; と呼ばれることもあります)。
   これらのカテゴリを用いることで、ICU は、
   各地域の規約にあわせた適切な文字列の並べ替えを正確に行えるようになります。
   また、各段階を選択して採用することで、
   テキスト内の文字列検索をさまざまな条件で行うことも可能になります。
  </p>
  <p class="para">
   <ol type="1">
    <li class="listitem">
     <p class="para"> 
      <em class="emphasis">第一段階 (Primary Level)</em>:
      一般に、これは元となる文字自体の違いを表すものとして使用します
      (たとえば &quot;a&quot; &lt; &quot;b&quot;)。これが、いちばん強い違いとなります。
      たとえば、辞書などではこれを用いてセクション分けしています。
      これは、レベル 1 の強度 (level1 strength) ともいいます。
     </p>
    </li>
    <li class="listitem">
     <p class="para"> 
      <em class="emphasis">第二段階 (Secondary Level)</em>:
      文字のアクセント記号を、第二段階の違いとします
      (たとえば &quot;as&quot; &lt; &quot;às&quot; &lt; &quot;at&quot;)。
      言語によっては、その他の文字の違いも第二段階の違いとみなすこともあります。
      文字列のどこかで第一段階の違いがある場合、第二段階の違いは無視します。
      これは、レベル 2 の強度 (level2 strength) ともいいます。
      <blockquote class="note"><p><b class="note">注意</b>: 
       <p class="para">
        注意: 言語によっては (たとえばデンマーク語)、
        アクセント記号は元の文字とは別の文字とみなすものもあります。
        しかし、たいていの言語では、
        アクセントなしの文字とアクセントつきの文字の違いは第二段階とみなします。
       </p>
      </p></blockquote>
     </p>
    </li>
    <li class="listitem">
     <p class="para"> 
      <em class="emphasis">第三段階 (Tertiary Level)</em>:
      大文字と小文字の違いを区別するのが第二段階の違いです
      (たとえば &quot;ao&quot; &lt; &quot;Ao&quot; &lt; &quot;aò&quot;)。
      さらに、ある文字とその派生形の違い (たとえば &quot;A&quot; と &quot; &quot;)
      も第三段階と判断します。さらに、カナの大文字と小文字の違い
      (訳注: たとえば &quot;や&quot; と &quot;ゃ&quot;) もこの段階になります。
      文字列のどこかで第一段階や第二段階の違いがある場合、
      第三段階の違いは無視します。
      これは、レベル 3 の強度 (level3 strength) ともいいます。
     </p>
    </li>
    <li class="listitem">
     <p class="para"> 
      <em class="emphasis">第四段階 (Quaternary Level)</em>:
      レベル 1 から 3 までで句読点を無視する場合 (&quot;句読点の無視&quot; を参照)、
      追加の段階を使用して句読点つきの単語となしの単語を区別します
      (たとえば &quot;ab&quot; &lt; &quot;a-b&quot; &lt; &quot;aB&quot;)。
      どこかに第一段階や第二段階、第三段階の違いがある場合、
      第四段階の違いは無視します。
      これは、レベル 4 の強度 (level4 strength) ともいいます。
      第四段階を使用するのは、句読点を無視する必要がある場合や
      日本語のテキスト (&quot;ひらがなの処理&quot; を参照) を処理する場合のみです。
     </p>
    </li>
    <li class="listitem">
     <p class="para"> 
      <em class="emphasis">一致段階 (Identical Level)</em>:
      それ以外のすべてのレベルで等しかった場合に、最後の手段として一致段階を用います。
      この段階で比較するのは、NFD 形式の文字列の Unicode コードポイントです。
      レベル 1 から 4 までで違いがない場合にのみ比較します。
      たとえば、ヘブライ語の朗誦記号 (cantillation mark) は、
      この段階でしか識別できません。
      この段階は慎重に使うようにしましょう。
      ふたつの文字列でコードポイントの値のみが違うなどということは、
      めったにないことだからです。
      この段階を使用すると、(ソートキーの強度が上がるのと同時に)
      インクリメンタルな比較やソートキーの生成のパフォーマンスが劇的に低下します。
      これは、レベル 5 の強度 (level5 strength) ともいいます。
     </p>
    </li>
   </ol>
  </p>
  <p class="para">
   たとえば、「アクセントを無視」したり「アクセントと大文字小文字の区別を無視」
   したりしてテキストの検索を行いたいこともあります。
   ほぼすべての文字は第三段階までで識別できるので、
   大半のロケールではデフォルトの指定は第三段階となっています。
   しかし、場合によっては第四段階の強度を使用することになります。
   これを用いると、空白や句読点や記号など、
   他の強度では無視されるような違いも識別するようになります。
   文字の識別を非常に厳密に行うには、一致段階の強度を使用します
   (たとえばこれを使用すると、Mathematical Bold Small A と
   Mathematical Italic Small A が別の文字とみなされます)。
   しかし、第三段階を超える強度を使用すると、
   ソートキーが非常に長くなってしまい、
   また同じ文字列に対する比較処理も非常に遅くなってしまいます。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-collator.setstrength-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">coll</tt></i></span>
     <dd>

      <p class="para">
       <a href="class.collator.html" class="classname">Collator</a> オブジェクト。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">strength</tt></i></span>
     <dd>

      <p class="para">設定する強度。</p>
      <p class="para">
        以下のいずれかです。
       <ul class="itemizedlist">
        <li class="listitem">
         <p class="para">
          <b><tt>Collator::PRIMARY</tt></b>
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          <b><tt>Collator::SECONDARY</tt></b>
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          <b><tt>Collator::TERTIARY</tt></b>
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          <b><tt>Collator::QUATERNARY</tt></b>
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          <b><tt>Collator::IDENTICAL</tt></b>
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          <b><tt>Collator::DEFAULT</tt></b>
         </p>
        </li>
       </ul>
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-collator.setstrength-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   成功した場合に <b><tt>TRUE</tt></b> を、失敗した場合に <b><tt>FALSE</tt></b> を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-collator.setstrength-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-2023">
    <p><b>例1 <span class="function"><b>collator_set_strength()</b></span> の例</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$arr&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'aò'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Ao'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ao'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$coll&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">collator_create</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'en_US'&nbsp;</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;デフォルトの強度で配列を並べ替えます<br /></span><span style="color: #0000BB">collator_sort</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$coll</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">var_export</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;第一段階の強度で配列を並べ替えます<br /></span><span style="color: #0000BB">collator_set_strength</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$coll</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Collator</span><span style="color: #007700">::</span><span style="color: #0000BB">PRIMARY&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">collator_sort</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$coll</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_export</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array (
  0 =&gt; &#039;ao&#039;,
  1 =&gt; &#039;Ao&#039;,
  2 =&gt; &#039;aò&#039;,
)
array (
  0 =&gt; &#039;aò&#039;,
  1 =&gt; &#039;Ao&#039;,
  2 =&gt; &#039;ao&#039;,
)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-collator.setstrength-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="class.collator.html#intl.collator-constants" class="link"><a href="class.collator.html" class="classname">Collator</a> の定数</a></li>
    <li class="member"><span class="function"><a href="collator.getstrength.html" class="function" rel="rdfs-seeAlso">collator_get_strength()</a> - 現在の照合強度を取得する</span></li>
   </ul>
  </p>
 </div>

</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="collator.setattribute.html">Collator::setAttribute</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="collator.sortwithsortkeys.html">Collator::sortWithSortKeys</a></div>
 <div class="up"><a href="class.collator.html">Collator</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
